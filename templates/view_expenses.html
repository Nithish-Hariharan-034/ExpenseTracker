<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View Expenses</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
        }
        .luxury-heading {
            font-family: 'Playfair Display', serif;
        }
        .bg-luxury-dark {
            background-color: #1a1a2e; /* Deep Charcoal/Navy */
        }
        .bg-card-dark {
             background-color: #242940; /* Slightly lighter inner card */
        }
        .text-accent-gold {
            color: #daa520; /* Gold/Metallic Accent */
        }
        .bg-button-primary {
            background-color: #4a4e69; 
        }
        .hover\:bg-button-primary-hover:hover {
            background-color: #6d708f;
        }
        /* Color Psychology: Emerald for wealth/security, Ruby for expenses */
        .text-total {
            color: #04b46c; /* Elegant Emerald Green */
        }
        .text-expense {
            color: #e55353; /* Subtle Ruby Red */
        }
    </style>
</head>
<body class="bg-luxury-dark text-gray-100 font-sans leading-normal tracking-normal">
    <div class="container mx-auto p-4 md:p-8">
        <div class="bg-card-dark border border-gray-700 p-8 rounded-xl shadow-2xl">
            <h1 class="luxury-heading text-3xl font-bold mb-6 text-accent-gold text-center tracking-wider">View Expenses for {{ selected_month }}/{{ selected_year }}</h1>

            <div class="mb-8 p-4 bg-white/5 rounded-lg border border-gray-700">
                <form method="POST" class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                    <div class="w-full md:w-auto">
                        <label for="month" class="block text-gray-300 font-medium mb-2 md:mb-0">Month:</label>
                        <input type="number" id="month" name="month" min="1" max="12" value="{{ selected_month }}" required class="w-full md:w-20 p-2 border border-gray-600 bg-gray-700 text-white rounded-md text-center focus:ring-accent-gold focus:border-accent-gold">
                    </div>
                    <div class="w-full md:w-auto">
                        <label for="year" class="block text-gray-300 font-medium mb-2 md:mb-0">Year:</label>
                        <input type="number" id="year" name="year" min="2000" max="2100" value="{{ selected_year }}" required class="w-full md:w-24 p-2 border border-gray-600 bg-gray-700 text-white rounded-md text-center focus:ring-accent-gold focus:border-accent-gold">
                    </div>
                    <div class="w-full md:w-auto">
                        <input type="submit" value="Filter" class="w-full bg-button-primary hover:bg-button-primary-hover text-white luxury-heading font-bold py-2 px-6 rounded-lg cursor-pointer transition duration-300 ease-in-out mt-4 md:mt-0 shadow-md">
                    </div>
                </form>
            </div>

            <div class="text-center mb-6 py-4 border-b border-t border-gray-700">
                <h2 class="text-2xl font-semibold text-gray-300">Total: <span class="text-total luxury-heading font-extrabold text-3xl">₹{{ total_amount }}</span></h2>
            </div>
            
            <ul class="space-y-3">
                {% for date, category, amount in expenses %}
                    <li class="p-4 bg-gray-700/50 rounded-lg flex justify-between items-center border-l-4 border-red-800 transition duration-300 hover:bg-gray-700">
                        <span class="text-gray-300 font-medium">{{ date }} - {{ category }}:</span>
                        <span class="text-expense font-bold text-lg">₹{{ amount }}</span>
                    </li>
                {% endfor %}
            </ul>

            <div class="text-center mt-10">
                <a href="/" class="text-accent-gold hover:text-white font-semibold transition duration-300 ease-in-out p-2 border border-accent-gold rounded-full hover:bg-accent-gold/20">
                    ← Back to Home
                </a>
            </div>
        </div>
    </div>
</body>
</html>
